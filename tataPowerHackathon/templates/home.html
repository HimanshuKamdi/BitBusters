{% extends "base.html" %}  {% block content %}
 
<ul class="list-group">
  <div >
    <div><img src="{{ url_for('static', filename='banner5.jpg')}}" alt="Background Pic" style="width:100%; height:90vh; "/></div>
    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; z-index: 1; font-family: 'Abril Fatface', serif;
    , serif; text-align:center; font-size:40px"><p style="font-size:60px">Youtube AlgoAnalyzer</p> <p >Renewable & Sustainable Future:</p> <p> Beyond the Videos</p></div>
    

    <section id="section07" class="demo" style="padding-top:auto">
      <a href="#trending"><span></span><span></span><span></span>Scroll</a>
    </section>
    

  <h1 style="text-align:center;margin-top:50px" id="trending">Trending Topics</h1>

  <div style="width:100%; text-align:center; display: flex;  justify-content: center;margin-bottom:50px">
    <form method="post" class="form-inline my-2 my-lg-0" >
      <input
        class="form-control mr-sm-2 my-4 "
        style="width: 500px;"
        type="text"
        name="search_query"
        placeholder="Search"
        value="{{ search_query }}"
      />
      <button class="btn btn-outline-success my-2 my-sm-0" type="submit">
        Search
      </button>
    </form>
  </div>
</ul>
<!-- Add a container for the bar chart -->


<div class="row" >
  <div class="col-sm-6 mb-3 mb-sm-0">
    <div class="card border-0" >
      <div class="card-body" data-aos="fade-right">
        <div id="views-chart" ></div>
        </div>
    </div>
  </div>
  <div class="col-sm-6 d-flex align-items-center justify-content-center" >
    <div class="card border-0">
      <div class="card-body" data-aos="fade-left">
        <h5 class="card-title">Summary</h5>
        <p class="card-text">
          <ul>
            <li>The topic with the most views is Sustainable Energy, with over 3 million views.</li>
            <li>The topic with the least views is EV Electric Energy, with less than 1 million views.</li>
            <li>The other topics have between 1 million and 2 million views.</li>
            <li>The trend suggests that YouTube users are more interested in learning about the general concepts of renewable and sustainable energy, as well as specific technologies such as solar and wind energy.</li>
          </ul>
        </p>
        
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-sm-6 d-flex align-items-center justify-content-center">
    <div class="card border-0">
      <div class="card-body" data-aos="fade-right" style="margin-left:50px ">
        <h5 class="card-title">Summary</h5>
        <ul class="bullet-list" >
          <li>The topic with the most likes is Renewable Energy, with over 40k likes.</li>
          <li>The topic with the least likes is Fossil Fuel, with less than 20k likes.</li>
          <li>The other topics have between 20k and 30k likes.</li>
          <li>Renewable energy is the most popular topic on YouTube related to energy, followed by wind energy, solar energy, and renewable and sustainable energy.</li>
        </ul>
        
      </div>
    </div>
  </div>
  <div class="col-sm-6 mb-3 mb-sm-0">
    <div class="card border-0">
      <div class="card-body" data-aos="fade-left">
        <div id="likes-chart"  ></div>
      </div>
    </div>
  </div>

</div>

<div class="row">
  <div class="col-sm-6 mb-3 mb-sm-0">
    <div class="card border-0">
      <div class="card-body" data-aos="fade-right">
        <div id="comments-chart"  ></div>
      </div>
    </div>
  </div>
  <div class="col-sm-6 d-flex align-items-center justify-content-center">
    <div class="card border-0">
      <div class="card-body" data-aos="fade-left">
        <h5 class="card-title">Summary</h5>
        <ul class="bullet-list">
          <li>The topic with the most likes is Renewable Energy, with over 3k comments.</li>
          <li>The topic with the least likes is Fossil Fuel, with less than 1k comments.</li>
          <li>The other topics have between 1k and 3k comments.</li>
          <li>This suggests that people are most interested in learning about the general concept of sustainable energy, and less interested in specific technologies such as solar panels vehicles.</li>
        </ul>
        
      </div>
    </div>
  </div>
</div>


<script>
  // Retrieve the JSON data for the bar chart
  var plot_data1 = {{ graphJSON1|safe }};
  var layout = { title: 'Avg Views Per topic', autosize: false, width: 600, height: 400,xaxis: {
    automargin: true
},
yaxis: {
    automargin: true
} };
    Plotly.newPlot('views-chart', plot_data1, layout);

  var plot_data2 = {{ graphJSON2|safe }};
  var layout = { title: 'Avg Likes Per topic', autosize: false, width: 600, height: 400,xaxis: {
    automargin: true
},
yaxis: {
    automargin: true
} };
    Plotly.newPlot('likes-chart', plot_data2, layout);

  var plot_data3 = {{ graphJSON3|safe }};
  var layout = { title: 'Avg Comments Per topic', autosize: false, width: 600, height: 400,xaxis: {
    automargin: true
},
yaxis: {
    automargin: true
} };
    Plotly.newPlot('comments-chart', plot_data3, layout);

  // Plot the bar chart using Plotly.js
  Plotly.newPlot('bar-chart', barChartData);
</script>
{% endblock %}
